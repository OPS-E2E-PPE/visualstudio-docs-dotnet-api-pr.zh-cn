<Type Name="IDeploymentStep" FullName="Microsoft.VisualStudio.SharePoint.Deployment.IDeploymentStep">
  <Metadata><Meta Name="ms.openlocfilehash" Value="2cb641c9a5069e77e56e6000b126ffaa814fdd27" /><Meta Name="ms.sourcegitcommit" Value="66ccc1ab172558cdfd2b9ffb616a60e4c9105be3" /><Meta Name="ms.translationtype" Value="MT" /><Meta Name="ms.contentlocale" Value="zh-CN" /><Meta Name="ms.lasthandoff" Value="09/19/2018" /><Meta Name="ms.locfileid" Value="46457179" /></Metadata><TypeSignature Language="C#" Value="public interface IDeploymentStep" />
  <TypeSignature Language="ILAsm" Value=".class public interface auto ansi abstract IDeploymentStep" />
  <TypeSignature Language="DocId" Value="T:Microsoft.VisualStudio.SharePoint.Deployment.IDeploymentStep" />
  <AssemblyInfo>
    <AssemblyName>Microsoft.VisualStudio.SharePoint</AssemblyName>
    <AssemblyVersion>15.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Interfaces />
  <Docs>
    <summary><span data-ttu-id="08cea-101">表示 SharePoint 项目的部署步骤。</span><span class="sxs-lookup"><span data-stu-id="08cea-101">Represents a deployment step for SharePoint projects.</span></span></summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="08cea-102">实现<xref:Microsoft.VisualStudio.SharePoint.Deployment.IDeploymentStep>接口，以创建 SharePoint 项目自定义部署步骤。</span><span class="sxs-lookup"><span data-stu-id="08cea-102">Implement the <xref:Microsoft.VisualStudio.SharePoint.Deployment.IDeploymentStep> interface to create a custom deployment step for SharePoint projects.</span></span> <span data-ttu-id="08cea-103">部署 SharePoint 项目时，[!INCLUDE[vs_current_short](~/includes/vs-current-short-md.md)] 会执行一系列部署步骤。</span><span class="sxs-lookup"><span data-stu-id="08cea-103">When you deploy a SharePoint project, [!INCLUDE[vs_current_short](~/includes/vs-current-short-md.md)] executes a series of deployment steps.</span></span> <span data-ttu-id="08cea-104">Visual Studio 包含用于很多任务的内置部署步骤，如收回和添加解决方案。</span><span class="sxs-lookup"><span data-stu-id="08cea-104">Visual Studio includes built-in deployment steps for many tasks, such as retracting and adding solutions.</span></span> <span data-ttu-id="08cea-105">但是，还可以创建自己的部署步骤。</span><span class="sxs-lookup"><span data-stu-id="08cea-105">However, you can also create your own deployment steps.</span></span> <span data-ttu-id="08cea-106">有关详细信息，请参阅[扩展 SharePoint 打包和部署](/visualstudio/sharepoint/extending-sharepoint-packaging-and-deployment)并[演练： 为 SharePoint 项目创建自定义部署步骤](/visualstudio/sharepoint/walkthrough-creating-a-custom-deployment-step-for-sharepoint-projects)。</span><span class="sxs-lookup"><span data-stu-id="08cea-106">For more information, see [Extending SharePoint Packaging and Deployment](/visualstudio/sharepoint/extending-sharepoint-packaging-and-deployment) and [Walkthrough: Creating a Custom Deployment Step for SharePoint Projects](/visualstudio/sharepoint/walkthrough-creating-a-custom-deployment-step-for-sharepoint-projects).</span></span>  
  
 <span data-ttu-id="08cea-107">部署步骤都一个实例化一次，每个 Visual Studio 实例的单一实例。</span><span class="sxs-lookup"><span data-stu-id="08cea-107">A deployment step is a singleton that is instantiated once per Visual Studio instance.</span></span>  
  
 <span data-ttu-id="08cea-108">实现此接口的类必须包括<xref:System.ComponentModel.Composition.ExportAttribute?displayProperty=fullName>和<xref:Microsoft.VisualStudio.SharePoint.Deployment.DeploymentStepAttribute>由项目系统发现。</span><span class="sxs-lookup"><span data-stu-id="08cea-108">Classes that implement this interface must include the <xref:System.ComponentModel.Composition.ExportAttribute?displayProperty=fullName> and the <xref:Microsoft.VisualStudio.SharePoint.Deployment.DeploymentStepAttribute> to be discovered by the project system.</span></span>  
  
 ]]></format>
    </remarks>
  </Docs>
  <Members>
    <Member MemberName="CanExecute">
      <MemberSignature Language="C#" Value="public bool CanExecute (Microsoft.VisualStudio.SharePoint.Deployment.IDeploymentContext context);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance bool CanExecute(class Microsoft.VisualStudio.SharePoint.Deployment.IDeploymentContext context) cil managed" />
      <MemberSignature Language="DocId" Value="M:Microsoft.VisualStudio.SharePoint.Deployment.IDeploymentStep.CanExecute(Microsoft.VisualStudio.SharePoint.Deployment.IDeploymentContext)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>Microsoft.VisualStudio.SharePoint</AssemblyName>
        <AssemblyVersion>15.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="context" Type="Microsoft.VisualStudio.SharePoint.Deployment.IDeploymentContext" />
      </Parameters>
      <Docs>
        <param name="context"><span data-ttu-id="08cea-109">一个提供可用于确定在其中执行部署步骤的上下文的对象。</span><span class="sxs-lookup"><span data-stu-id="08cea-109">An object that provides information you can use to determine the context in which the deployment step is executing.</span></span></param>
        <summary><span data-ttu-id="08cea-110">确定是否可在当前上下文中执行部署步骤。</span><span class="sxs-lookup"><span data-stu-id="08cea-110">Determines whether the deployment step can be executed in the current context.</span></span></summary>
        <returns><span data-ttu-id="08cea-111">如果可执行部署步骤，则为 <see langword="true" />，否则为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="08cea-111"><see langword="true" /> if the deployment step can be executed; otherwise, <see langword="false" />.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="08cea-112">使用收回 SharePoint 项目时此方法从 UI 线程执行**Retract**选项卡上**生成**Visual Studio 菜单中的。</span><span class="sxs-lookup"><span data-stu-id="08cea-112">This method is executed from the UI thread when a SharePoint project is retracted by using the **Retract** option on the **Build** menu in Visual Studio.</span></span> <span data-ttu-id="08cea-113">从后台线程在以下情况下执行此方法：</span><span class="sxs-lookup"><span data-stu-id="08cea-113">This method is executed from a background thread in the following cases:</span></span>  
  
-   <span data-ttu-id="08cea-114">当一个项目调试后自动收回。</span><span class="sxs-lookup"><span data-stu-id="08cea-114">When a project is automatically retracted after debugging.</span></span> <span data-ttu-id="08cea-115">发生这种情况时**调试后自动收回**上的属性**SharePoint**选择的项目属性的选项卡。</span><span class="sxs-lookup"><span data-stu-id="08cea-115">This occurs when the **Auto-retract after debugging** property on the **SharePoint** tab of the project properties is selected.</span></span>  
  
-   <span data-ttu-id="08cea-116">当部署一个项目。</span><span class="sxs-lookup"><span data-stu-id="08cea-116">When a project is deployed.</span></span>  
  
 <span data-ttu-id="08cea-117">Visual Studio 对象模型中的某些 Api 可能无法按预期的方式从后台线程。</span><span class="sxs-lookup"><span data-stu-id="08cea-117">Some APIs in the Visual Studio object model might not work as expected from a background thread.</span></span> <span data-ttu-id="08cea-118">如果需要调用这些 Api 从之一<xref:Microsoft.VisualStudio.SharePoint.Deployment.IDeploymentStep.CanExecute%2A>方法，您可以通过使用封送对 UI 线程的调用<xref:System.Threading.SynchronizationContext>对象。</span><span class="sxs-lookup"><span data-stu-id="08cea-118">If you need to call one of these APIs from the <xref:Microsoft.VisualStudio.SharePoint.Deployment.IDeploymentStep.CanExecute%2A> method, you can marshal the call to the UI thread by using a <xref:System.Threading.SynchronizationContext> object.</span></span> <span data-ttu-id="08cea-119">中的实现<xref:Microsoft.VisualStudio.SharePoint.Deployment.IDeploymentStep.Initialize%2A>方法，请使用<xref:System.Threading.SynchronizationContext.Current%2A>属性获取<xref:System.Threading.SynchronizationContext>的 UI 线程。</span><span class="sxs-lookup"><span data-stu-id="08cea-119">In your implementation of the <xref:Microsoft.VisualStudio.SharePoint.Deployment.IDeploymentStep.Initialize%2A> method, use the <xref:System.Threading.SynchronizationContext.Current%2A> property to get the <xref:System.Threading.SynchronizationContext> of the UI thread.</span></span> <span data-ttu-id="08cea-120">然后，在你的实现<xref:Microsoft.VisualStudio.SharePoint.Deployment.IDeploymentStep.CanExecute%2A>方法，请使用<xref:System.Threading.SynchronizationContext.Post%2A>或<xref:System.Threading.SynchronizationContext.Send%2A>方法的<xref:System.Threading.SynchronizationContext>对象封送对 UI 线程的调用。</span><span class="sxs-lookup"><span data-stu-id="08cea-120">Then, in your implementation of the <xref:Microsoft.VisualStudio.SharePoint.Deployment.IDeploymentStep.CanExecute%2A> method, use the <xref:System.Threading.SynchronizationContext.Post%2A> or <xref:System.Threading.SynchronizationContext.Send%2A> methods of the <xref:System.Threading.SynchronizationContext> object to marshal the call to the UI thread.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="Execute">
      <MemberSignature Language="C#" Value="public void Execute (Microsoft.VisualStudio.SharePoint.Deployment.IDeploymentContext context);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void Execute(class Microsoft.VisualStudio.SharePoint.Deployment.IDeploymentContext context) cil managed" />
      <MemberSignature Language="DocId" Value="M:Microsoft.VisualStudio.SharePoint.Deployment.IDeploymentStep.Execute(Microsoft.VisualStudio.SharePoint.Deployment.IDeploymentContext)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>Microsoft.VisualStudio.SharePoint</AssemblyName>
        <AssemblyVersion>15.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="context" Type="Microsoft.VisualStudio.SharePoint.Deployment.IDeploymentContext" />
      </Parameters>
      <Docs>
        <param name="context"><span data-ttu-id="08cea-121">一个提供可用于确定在其中执行部署步骤的上下文的对象。</span><span class="sxs-lookup"><span data-stu-id="08cea-121">An object that provides information you can use to determine the context in which the deployment step is executing.</span></span></param>
        <summary><span data-ttu-id="08cea-122">执行部署步骤。</span><span class="sxs-lookup"><span data-stu-id="08cea-122">Executes the deployment step.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="08cea-123">在此方法中实现你的部署步骤逻辑。</span><span class="sxs-lookup"><span data-stu-id="08cea-123">Implement your deployment step logic in this method.</span></span>  
  
 <span data-ttu-id="08cea-124">使用收回 SharePoint 项目时此方法从 UI 线程执行**Retract**选项卡上**生成**Visual Studio 菜单中的。</span><span class="sxs-lookup"><span data-stu-id="08cea-124">This method is executed from the UI thread when a SharePoint project is retracted by using the **Retract** option on the **Build** menu in Visual Studio.</span></span> <span data-ttu-id="08cea-125">从后台线程在以下情况下执行此方法：</span><span class="sxs-lookup"><span data-stu-id="08cea-125">This method is executed from a background thread in the following cases:</span></span>  
  
-   <span data-ttu-id="08cea-126">当一个项目调试后自动收回。</span><span class="sxs-lookup"><span data-stu-id="08cea-126">When a project is automatically retracted after debugging.</span></span> <span data-ttu-id="08cea-127">发生这种情况时**调试后自动收回**上的属性**SharePoint**选择的项目属性的选项卡。</span><span class="sxs-lookup"><span data-stu-id="08cea-127">This occurs when the **Auto-retract after debugging** property on the **SharePoint** tab of the project properties is selected.</span></span>  
  
-   <span data-ttu-id="08cea-128">当部署一个项目。</span><span class="sxs-lookup"><span data-stu-id="08cea-128">When a project is deployed.</span></span>  
  
 <span data-ttu-id="08cea-129">Visual Studio 对象模型中的某些 Api 可能无法按预期的方式从后台线程。</span><span class="sxs-lookup"><span data-stu-id="08cea-129">Some APIs in the Visual Studio object model might not work as expected from a background thread.</span></span> <span data-ttu-id="08cea-130">如果需要调用这些 Api 从之一<xref:Microsoft.VisualStudio.SharePoint.Deployment.IDeploymentStep.Execute%2A>方法，您可以通过使用封送对 UI 线程的调用<xref:System.Threading.SynchronizationContext>对象。</span><span class="sxs-lookup"><span data-stu-id="08cea-130">If you need to call one of these APIs from the <xref:Microsoft.VisualStudio.SharePoint.Deployment.IDeploymentStep.Execute%2A> method, you can marshal the call to the UI thread by using a <xref:System.Threading.SynchronizationContext> object.</span></span> <span data-ttu-id="08cea-131">中的实现<xref:Microsoft.VisualStudio.SharePoint.Deployment.IDeploymentStep.Initialize%2A>方法，请使用<xref:System.Threading.SynchronizationContext.Current%2A>属性获取<xref:System.Threading.SynchronizationContext>的 UI 线程。</span><span class="sxs-lookup"><span data-stu-id="08cea-131">In your implementation of the <xref:Microsoft.VisualStudio.SharePoint.Deployment.IDeploymentStep.Initialize%2A> method, use the <xref:System.Threading.SynchronizationContext.Current%2A> property to get the <xref:System.Threading.SynchronizationContext> of the UI thread.</span></span> <span data-ttu-id="08cea-132">然后，在你的实现<xref:Microsoft.VisualStudio.SharePoint.Deployment.IDeploymentStep.Execute%2A>方法，请使用<xref:System.Threading.SynchronizationContext.Post%2A>或<xref:System.Threading.SynchronizationContext.Send%2A>方法的<xref:System.Threading.SynchronizationContext>对象封送对 UI 线程的调用。</span><span class="sxs-lookup"><span data-stu-id="08cea-132">Then, in your implementation of the <xref:Microsoft.VisualStudio.SharePoint.Deployment.IDeploymentStep.Execute%2A> method, use the <xref:System.Threading.SynchronizationContext.Post%2A> or <xref:System.Threading.SynchronizationContext.Send%2A> methods of the <xref:System.Threading.SynchronizationContext> object to marshal the call to the UI thread.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="Initialize">
      <MemberSignature Language="C#" Value="public void Initialize (Microsoft.VisualStudio.SharePoint.Deployment.IDeploymentStepInfo stepInfo);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void Initialize(class Microsoft.VisualStudio.SharePoint.Deployment.IDeploymentStepInfo stepInfo) cil managed" />
      <MemberSignature Language="DocId" Value="M:Microsoft.VisualStudio.SharePoint.Deployment.IDeploymentStep.Initialize(Microsoft.VisualStudio.SharePoint.Deployment.IDeploymentStepInfo)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>Microsoft.VisualStudio.SharePoint</AssemblyName>
        <AssemblyVersion>15.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="stepInfo" Type="Microsoft.VisualStudio.SharePoint.Deployment.IDeploymentStepInfo" />
      </Parameters>
      <Docs>
        <param name="stepInfo"><span data-ttu-id="08cea-133">一个包含有关部署步骤信息的对象。</span><span class="sxs-lookup"><span data-stu-id="08cea-133">An object that contains information about the deployment step.</span></span></param>
        <summary><span data-ttu-id="08cea-134">启动部署步骤。</span><span class="sxs-lookup"><span data-stu-id="08cea-134">Initializes the deployment step.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="08cea-135">首次初始化部署步骤时，visual Studio 将调用此方法。</span><span class="sxs-lookup"><span data-stu-id="08cea-135">Visual Studio calls this method when the deployment step is first initialized.</span></span> <span data-ttu-id="08cea-136">发生这种情况仅一次每个 Visual Studio 实例。</span><span class="sxs-lookup"><span data-stu-id="08cea-136">This happens only once per Visual Studio instance.</span></span>  
  
 <span data-ttu-id="08cea-137">中的实现<xref:Microsoft.VisualStudio.SharePoint.Deployment.IDeploymentStep.Initialize%2A>，设置属性的`stepInfo`参数来指定名称、 说明和部署步骤的其他详细信息。</span><span class="sxs-lookup"><span data-stu-id="08cea-137">In your implementation of <xref:Microsoft.VisualStudio.SharePoint.Deployment.IDeploymentStep.Initialize%2A>, set properties of the `stepInfo` parameter to specify the name, description, and other details for the deployment step.</span></span>  
  
 <span data-ttu-id="08cea-138">此方法始终执行从 UI 线程。</span><span class="sxs-lookup"><span data-stu-id="08cea-138">This method is always executed from the UI thread.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
  </Members>
</Type>